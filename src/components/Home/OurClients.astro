---
import stanford from "../../images/assets/stanford.png";
import hyundai from "../../images/assets/hyundai.png";
import nestle from "../../images/assets/nestle.png"; 
import panasonic from "../../images/assets/panasonic.png";
import LnT from "../../images/assets/l&t.png";
import STeng from "../../images/assets/STeng.png";
import motorola from "../../images/assets/motorola.png";
import UN from "../../images/assets/UN.png";
import royalenfield from "../../images/assets/royalenfield.png";
import changi from "../../images/assets/changi.png";
import livingmatrix from "../../images/assets/livingmatrix.png";
import reach from "../../images/assets/reach.png";
import innerkraft from "../../images/assets/innerkraft.png";
import moddo from "../../images/assets/moddo.png";
import shareandremember from "../../images/assets/shareandremember.png";
import nanny from "../../images/assets/nanny.png";
import {Image} from "astro:assets";
---
<div
  class="lg:mt-40 md:mt-20 mt-4"
  style={{
    background: "linear-gradient(to bottom, #20202066, #00000047, #17171766)",
  }}
>
  <div class="clients-container xl:py-5 py-6 mt-10 md:mt-15">
    <div
      class="clients-content space-y-1 md:space-y-10 h-[auto] md:h-[53vh] lg:h-[903px] w-[100%] mt-6 mb-1"
    >
      <div
        class="clients-heading text-heading text-primary font-medium pl-3 xl:pl-26"
      >
        Our Clients
      </div>
      <p
        class="clients-subheading max-w-100% mb-5 md:mb-10 text-[#EAEAEA] text-subbody px-5 pl-3 xl:pl-26 font-medium"
      >
        Transform your business with generative AI
      </p>

      <!-- Marquee for Mobile and Tablet  -->
      <div class="clients-marquee-wrapper md:block lg:hidden">
        <div class="clients-marquee-container">
          <!-- Left to Right Marquee  -->
          <div class="clients-marquee-block">
            <div class="clients-marquee-inner clients-marquee-right">
              <span>
                <div class="clients-marquee-item">
                  <Image src={nestle} alt="Nestle" width={280.08} height={82} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={stanford} alt="Stanford" width={134} height={134} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={hyundai} alt="Hyundai" width={241} height={122} inferSize={true}  />
                </div>
                <div class="clients-marquee-item">
                  <Image src={panasonic} alt="Panasonic" width={230} height={34} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={LnT} alt="Larsen" width={335.33} height={62} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={STeng} alt="STEngg" width={290} height={40} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={motorola} alt="Motorola" width={284} height={65.24} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={UN} alt="UN" width={230} height={69} inferSize={true}/>
                </div>
              </span>
              <span>
                <div class="clients-marquee-item">
                  <Image src={nestle} alt="Nestle" width={280.8} height={82} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={stanford} alt="Stanford" width={134} height={134} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={hyundai} alt="Hyundai" width={241} height={122} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={panasonic} alt="Panasonic" width={230} height={34} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={LnT} alt="Larsen" width={335.33} height={62} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={STeng} alt="STEngg" width={290} height={40} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={motorola} alt="Motorola" width={284} height={65.24} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={UN} alt="UN" width={230} height={69} inferSize={true}/>
                </div>
              </span>
            </div>
          </div>

          <!-- Right to Left Marquee with Small Gap  -->
          <div class="clients-marquee-block">
            <div class="clients-marquee-inner clients-marquee-left">
              <span>
                <div class="clients-marquee-item">
                  <Image src={royalenfield} alt="RE" width={297} height={101.08}  inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={changi} alt="Changi" width={180} height={105} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={livingmatrix} alt="Living Matrix" width={273} height={89} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={reach} alt="Reach" width={255} height={44.72} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={innerkraft} alt="Innerkraft" width={277} height={49} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={moddo} alt="Moddo" width={417} height={87.7} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={shareandremember} alt="Shareandremember" width={300.46} height={90} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={nanny} alt="Nanny" width={170.45} height={145} inferSize={true}/>
                </div>
              </span>
              <span>
                <div class="clients-marquee-item">
                  <Image src={royalenfield} alt="RE" width={297} height={101.08} inferSize={true} />
                </div>
                <div class="clients-marquee-item">
                  <Image src={changi} alt="Changi" width={180} height={105} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={livingmatrix} alt="Living Matrix" width={273} height={89} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={reach} alt="Reach" width={255} height={44.72} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={innerkraft} alt="Innerkraft" width={277} height={49} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={moddo} alt="Moddo" width={417} height={87.7} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={shareandremember} alt="Shareandremember" width={300.46} height={90} inferSize={true}/>
                </div>
                <div class="clients-marquee-item">
                  <Image src={nanny} alt="Nanny" width={170.45} height={145} inferSize={true}/>
                </div>
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Existing Desktop Logo Grid -->
      <div
        class="clients-logo-grid hidden lg:flex flex-col items-center h-auto w-auto p-5 md:p-0 mt-20"
      >
        <div
          id="clients-logo-container"
          class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 md:gap-x-15 md:gap-y-15 lg:gap-x-15 xl:gap-x-55 lg:gap-y-23 gap-x-0 gap-y-0 object-contain px-10"
          style="max-width: 1621px; height: 629px;"
        >
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Marquee Styles */
  .clients-marquee-wrapper {
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .clients-marquee-container {
    overflow: hidden;
  }
  .clients-marquee-inner span {
    float: left;
    width: 50%;
  }
  /* Base styles (shared across devices) */

  /* Laptop-specific styles */
  .clients-marquee-block {
    --total-marquee-items: 8;
    height: 150px;
    width: calc(250px * (var(--total-marquee-items)));
    overflow: hidden;
    box-sizing: border-box;
    position: relative;
    padding: 30px 0;
  }
  .clients-marquee-inner {
    display: block;
    width: 200%;
    position: absolute;
  }
  .clients-marquee-item {
    width: 230px;
    height: 120px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 10px;
    float: left;
    transition: all 0.2s ease-out;
    border-radius: 12px;
    background-color: #27272a;
  }
  .clients-marquee-item img {
    width: 150px;
    height: 100px;
    object-fit: contain;
    display: block;
    margin: 0 auto;
  }
  .clients-marquee-item::after {
    background-color: #3f3f46;
    transition: background-color 0.3s ease;
  }

  .clients-marquee-item:hover::after {
    background-color: #3f3f46;
  }
  .clients-marquee-left {
    animation: marqueeLeft 40s linear infinite;
  }
  .clients-marquee-right {
    animation: marqueeRight 40s linear infinite;
  }
  @keyframes marqueeLeft {
    0% {
      left: 0;
      transform: translateX(0);
    }
    100% {
      left: -100%;
      transform: translateX(calc(-100% - var(--gap)));
    }
  }
  @keyframes marqueeRight {
    0% {
      left: -100%;
      transform: translateX(0);
    }
    100% {
      left: 0;
      transform: translateX(calc(-100% - var(--gap)));
    }
  }
</style>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const logos = [
      "nestle.png",
      "stanford.png",
      "hyundai.png",
      "panasonic.png",
      "larsen.png",
      "stengg.png",
      "motorola.png",
      "un.png",
      "re.png",
      "changi.png",
      "livingmatrix.png",
      "reach.png",
      "innerkraft.png",
      "moddo.png",
      "share.png",
      "nanny.png",
    ];

    const container = document.getElementById("clients-logo-container");
    if (container) {
      container.innerHTML = logos
        .map(
          (logo) =>
            `<img src="/assets/${logo}" alt="${logo.split(".")[0]}" class="clients-logo mx-auto size-30 lg:size-60 ${logo === "nanny.png" ? "max-h-30 pb-10" : "max-h-24"} object-contain">`
        )
        .join("");
    }
  });
  const vertical = false;
  const pauseOnHover = true;
  const reverse = true;

  const element = document.createElement("div");
  element.style.display = vertical ? "flex" : "block";
  element.style.flexDirection = vertical ? "column" : "row";
  element.style.animation = "marquee 10s linear infinite";
  element.style.animationDirection = reverse ? "reverse" : "normal";

  if (pauseOnHover) {
    element.addEventListener("mouseenter", () => {
      element.style.animationPlayState = "paused";
    });
    element.addEventListener("mouseleave", () => {
      element.style.animationPlayState = "running";
    });
  }

  // element.innerText = "Marquee Content";
  document.body.appendChild(element);
</script>
